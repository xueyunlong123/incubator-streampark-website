"use strict";(self.webpackChunkapache_streampark_website=self.webpackChunkapache_streampark_website||[]).push([[5107],{3905:(e,a,t)=>{t.d(a,{Zo:()=>c,kt:()=>m});var n=t(67294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function s(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?s(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function i(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},s=Object.keys(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)t=s[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=n.createContext({}),p=function(e){var a=n.useContext(l),t=a;return e&&(t="function"==typeof e?e(a):o(o({},a),e)),t},c=function(e){var a=p(e.components);return n.createElement(l.Provider,{value:a},e.children)},h="mdxType",u={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},d=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,s=e.originalType,l=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),h=p(t),d=r,m=h["".concat(l,".").concat(d)]||h[d]||u[d]||s;return t?n.createElement(m,o(o({ref:a},c),{},{components:t})):n.createElement(m,o({ref:a},c))}));function m(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var s=t.length,o=new Array(s);o[0]=d;var i={};for(var l in a)hasOwnProperty.call(a,l)&&(i[l]=a[l]);i.originalType=e,i[h]="string"==typeof e?e:r,o[1]=i;for(var p=2;p<s;p++)o[p]=t[p];return n.createElement.apply(null,o)}return n.createElement.apply(null,t)}d.displayName="MDXCreateElement"},90104:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>p});var n=t(87462),r=(t(67294),t(3905));const s={id:"how_to_release",title:"How to Release",sidebar_position:4},o=void 0,i={unversionedId:"release/how_to_release",id:"release/how_to_release",title:"How to Release",description:"This tutorial describes in detail how to release Apache StreamPark, take the release of version 2.1.0 as an example.",source:"@site/community/release/How-to-release.md",sourceDirName:"release",slug:"/release/how_to_release",permalink:"/community/release/how_to_release",draft:!1,tags:[],version:"current",sidebarPosition:4,frontMatter:{id:"how_to_release",title:"How to Release",sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Code style and quality guide",permalink:"/community/submit_guide/code_style_and_quality_guide"},next:{title:"How to Verify Release",permalink:"/community/release/how_to_verify_release"}},l={},p=[{value:"1. Environmental requirements",id:"1-environmental-requirements",level:2},{value:"2. Preparing for release",id:"2-preparing-for-release",level:2},{value:"2.1 Key generation",id:"21-key-generation",level:3},{value:"2.2 Upload the generated key to the public server",id:"22-upload-the-generated-key-to-the-public-server",level:3},{value:"2.3 Check if the key is created successfully",id:"23-check-if-the-key-is-created-successfully",level:4},{value:"2.4 Add the gpg public key to the KEYS file of the Apache SVN project warehouse",id:"24-add-the-gpg-public-key-to-the-keys-file-of-the-apache-svn-project-warehouse",level:4},{value:"2.4.1 Add public key to KEYS in dev branch",id:"241-add-public-key-to-keys-in-dev-branch",level:5},{value:"2.4.2 Add public key to KEYS in release branch",id:"242-add-public-key-to-keys-in-release-branch",level:5},{value:"2.5 Configure apache maven address and user password settings",id:"25-configure-apache-maven-address-and-user-password-settings",level:4},{value:"3. Prepare material package &amp; release Apache Nexus",id:"3-prepare-material-package--release-apache-nexus",level:2},{value:"3.1 Based on the dev branch, create a release-${release_version}-rcx branch, such as release-2.1.0-rc1, And create a tag named v2.1.0-rc1 based on the release-2.1.0-rc1 branch, and set this tag as pre-release.",id:"31-based-on-the-dev-branch-create-a-release-release_version-rcx-branch-such-as-release-210-rc1-and-create-a-tag-named-v210-rc1-based-on-the-release-210-rc1-branch-and-set-this-tag-as-pre-release",level:4},{value:"3.2 clone release branch to local",id:"32-clone-release-branch-to-local",level:4},{value:"3.3 Publish the relevant JARs to Apache Nexus",id:"33-publish-the-relevant-jars-to-apache-nexus",level:4},{value:"3.3.1 Release scala 2.11 to the Apache Nexus repository",id:"331-release-scala-211-to-the-apache-nexus-repository",level:5},{value:"3.3.2 Release scala 2.12 to the Apache Nexus repository",id:"332-release-scala-212-to-the-apache-nexus-repository",level:5},{value:"3.3.3 Release shaded to the Apache Nexus repository",id:"333-release-shaded-to-the-apache-nexus-repository",level:5},{value:"3.3.4 Check for successful publishing to the Apache Nexus repository",id:"334-check-for-successful-publishing-to-the-apache-nexus-repository",level:5},{value:"3.4 Compile the binary package",id:"34-compile-the-binary-package",level:4},{value:"3.4 Sign binary and source packages",id:"34-sign-binary-and-source-packages",level:4},{value:"3.5 Verify signature",id:"35-verify-signature",level:4},{value:"3.6 Publish the dev directory of the Apache SVN warehouse of the material package",id:"36-publish-the-dev-directory-of-the-apache-svn-warehouse-of-the-material-package",level:4},{value:"3.7 Check Apache SVN Commit Results",id:"37-check-apache-svn-commit-results",level:4},{value:"3. Enter the community voting stage",id:"3-enter-the-community-voting-stage",level:2},{value:"3.1 Send a Community Vote Email",id:"31-send-a-community-vote-email",level:4},{value:"3.2 Send Incubator Community voting mail",id:"32-send-incubator-community-voting-mail",level:4},{value:"4. Complete the final publishing steps",id:"4-complete-the-final-publishing-steps",level:2},{value:"4.1 Migrating source and binary packages",id:"41-migrating-source-and-binary-packages",level:4},{value:"4.2 Publish releases in the Apache Staging repository",id:"42-publish-releases-in-the-apache-staging-repository",level:4},{value:"4.3 Add the new version download address to the official website",id:"43-add-the-new-version-download-address-to-the-official-website",level:4},{value:"4.4 Generate a release on github",id:"44-generate-a-release-on-github",level:4},{value:"4.5 Send new version announcement email",id:"45-send-new-version-announcement-email",level:4}],c={toc:p};function h(e){let{components:a,...t}=e;return(0,r.kt)("wrapper",(0,n.Z)({},c,t,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"This tutorial describes in detail how to release Apache StreamPark, take the release of version 2.1.0 as an example."),(0,r.kt)("h2",{id:"1-environmental-requirements"},"1. Environmental requirements"),(0,r.kt)("p",null,"This release process is operated in the Ubuntu OS, and the following tools are required:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"JDK 1.8+"),(0,r.kt)("li",{parentName:"ul"},"Apache Maven 3.x (this process uses 3.8.7)"),(0,r.kt)("li",{parentName:"ul"},"GnuPG 2.x"),(0,r.kt)("li",{parentName:"ul"},"Git"),(0,r.kt)("li",{parentName:"ul"},"SVN (apache uses svn to host project releases)")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Pay attention to setting environment variables ",(0,r.kt)("inlineCode",{parentName:"p"},"export GPG_TTY=$(tty)"))),(0,r.kt)("h2",{id:"2-preparing-for-release"},"2. Preparing for release"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"First summarize the account information to better understand the operation process, will be used many times later."),(0,r.kt)("ul",{parentName:"blockquote"},(0,r.kt)("li",{parentName:"ul"},"apache id: ",(0,r.kt)("inlineCode",{parentName:"li"},"muchunjin (APACHE LDAP UserName)")),(0,r.kt)("li",{parentName:"ul"},"apache passphrase: ",(0,r.kt)("inlineCode",{parentName:"li"},"APACHE LDAP Passphrase")),(0,r.kt)("li",{parentName:"ul"},"apache email: ",(0,r.kt)("inlineCode",{parentName:"li"},"muchunjin@apache.org")),(0,r.kt)("li",{parentName:"ul"},"gpg real name: ",(0,r.kt)("inlineCode",{parentName:"li"},"muchunjin (Any name can be used, here I set it to the same name as the apache id)")),(0,r.kt)("li",{parentName:"ul"},"gpg key passphrase: ",(0,r.kt)("inlineCode",{parentName:"li"},"The password set when creating the gpg key, you need to remember this password")))),(0,r.kt)("h3",{id:"21-key-generation"},"2.1 Key generation"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"$ gpg --full-gen-key\ngpg (GnuPG) 2.2.27; Copyright (C) 2021 Free Software Foundation, Inc.\nThis is free software: you are free to change and redistribute it.\nThere is NO WARRANTY, to the extent permitted by law.\n\nPlease select what kind of key you want:\n(1) RSA and RSA (default)\n(2) DSA and Elgamal\n(3) DSA (sign only)\n(4) RSA (sign only)\n(14) Existing key from card\nYour selection? 1 # Please enter 1\nRSA keys may be between 1024 and 4096 bits long.\nWhat keysize do you want? (3072) 4096 # Please enter 4096 here\nRequested keysize is 4096 bits\nPlease specify how long the key should be valid.\n0 = key does not expire\n<n> = key expires in n days\n<n>w = key expires in n weeks\n<n>m = key expires in n months\n<n>y = key expires in n years\nKey is valid for? (0) 0 # Please enter 0\nKey does not expire at all\nIs this correct? (y/N) y # Please enter y here\n\nGnuPG needs to construct a user ID to identify your key.\n\nReal name: muchunjin # Please enter 'gpg real name'\nEmail address: muchunjin@apache.org # Please enter your apache email address here\nComment: for apache StreamPark release create at 20230501 # Please enter some comments here\nYou selected this USER-ID:\n    \"muchunjin (for apache StreamPark release create at 20230501) <muchunjin@apache.org>\"\n\nChange (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? O # Please enter O here\nWe need to generate a lot of random bytes. It is a good idea to perform\nsome other action (type on the keyboard, move the mouse, utilize the\ndisks) during the prime generation; this gives the random number\ngenerator a better chance to gain enough entropy.\n\n# At this time, a dialog box will pop up, asking you to enter the key for this gpg. \n# you need to remember that it will be used in subsequent steps.\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Please enter this passphrase to                     \u2502\n\u2502 protect your new key                                \u2502\n\u2502                                                     \u2502\n\u2502 Passphrase: _______________________________________ \u2502\n\u2502                                                     \u2502\n\u2502     <OK>                    <Cancel>                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n# Here you need to re-enter the password in the previous step.\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Please re-enter this passphrase                     \u2502\n\u2502                                                     \u2502\n\u2502 Passphrase: _______________________________________ \u2502\n\u2502                                                     \u2502\n\u2502     <OK>                    <Cancel>                \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\ngpg: key ACFB69E705016886 marked as ultimately trusted\ngpg: revocation certificate stored as '/root/.gnupg/openpgp-revocs.d/DC12398CCC33A5349EB9663DF9D970AB18C9EDF6.rev'\npublic and secret key created and signed.\n\npub   rsa4096 2023-05-01 [SC]\n      85778A4CE4DD04B7E07813ABACFB69E705016886\nuid                      muchunjin (for apache StreamPark release create at 20230501) <muchunjin@apache.org>\nsub   rsa4096 2023-05-01 [E]\n")),(0,r.kt)("p",null,"Keys can be viewed through the ",(0,r.kt)("inlineCode",{parentName:"p"},"gpg --list-signatures")," command"),(0,r.kt)("h3",{id:"22-upload-the-generated-key-to-the-public-server"},"2.2 Upload the generated key to the public server"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"$ gpg --keyid-format SHORT --list-keys\n/root/.gnupg/pubring.kbx\n------------------------\npub   rsa4096/05016886 2023-05-01 [SC]\n      85778A4CE4DD04B7E07813ABACFB69E705016886\nuid         [ultimate] muchunjin (for apache StreamPark release create at 20230501) <muchunjin@apache.org>\nsub   rsa4096/0C5A4E1C 2023-05-01 [E]\n\n# Send public key to keyserver via key id\n$ gpg --keyserver keyserver.ubuntu.com --send-key 584EE68E\n# Among them, keyserver.ubuntu.com is the selected keyserver, it is recommended to use this, because the Apache Nexus verification uses this keyserver\n")),(0,r.kt)("h4",{id:"23-check-if-the-key-is-created-successfully"},"2.3 Check if the key is created successfully"),(0,r.kt)("p",null,"Verify whether it is synchronized to the public network, it will take about a minute to find out the answer, if not successful, you can upload and retry multiple times."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'$ gpg --keyserver keyserver.ubuntu.com --recv-keys 05016886   # If the following content appears, it means success\ngpg: key ACFB69E705016886: "muchunjin (for apache StreamPark release create at 20230501) <muchunjin@apache.org>" not changed\ngpg: Total number processed: 1\ngpg:              unchanged: 1\n')),(0,r.kt)("p",null,"Or enter ",(0,r.kt)("a",{parentName:"p",href:"https://keyserver.ubuntu.com/"},"https://keyserver.ubuntu.com/")," address in the browser, enter the name of the key and click 'Search key'"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://github.com/apache/incubator-streampark/assets/19602424/b8fe193e-c137-42b0-a833-90a6d975f335",alt:"\u56fe\u7247"})),(0,r.kt)("p",null,"If the query results are as follows, it means that the key is successfully created."),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://github.com/apache/incubator-streampark/assets/19602424/73ada3f2-2d2e-4b76-b25c-34a52db6a069",alt:"\u56fe\u7247"})),(0,r.kt)("h4",{id:"24-add-the-gpg-public-key-to-the-keys-file-of-the-apache-svn-project-warehouse"},"2.4 Add the gpg public key to the KEYS file of the Apache SVN project warehouse"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Apache StreamPark Branch Dev ",(0,r.kt)("a",{parentName:"li",href:"https://dist.apache.org/repos/dist/dev/incubator/streampark"},"https://dist.apache.org/repos/dist/dev/incubator/streampark")),(0,r.kt)("li",{parentName:"ul"},"Apache StreamPark Branch Release ",(0,r.kt)("a",{parentName:"li",href:"https://dist.apache.org/repos/dist/release/incubator/streampark/"},"https://dist.apache.org/repos/dist/release/incubator/streampark/"))),(0,r.kt)("h5",{id:"241-add-public-key-to-keys-in-dev-branch"},"2.4.1 Add public key to KEYS in dev branch"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'$ mkdir -p streampark_svn/dev\n$ cd streampark_svn/dev\n\n$ svn co https://dist.apache.org/repos/dist/dev/incubator/streampark\n$ cd streampark_svn/dev/streampark\n\n# Append the KEY you generated to the file KEYS, and check if it is added correctly\n$ (gpg --list-sigs muchunjin@apache.org && gpg --export --armor muchunjin@apache.org) >> KEYS \n\n$ svn ci -m "add gpg key for muchunjin"\n')),(0,r.kt)("h5",{id:"242-add-public-key-to-keys-in-release-branch"},"2.4.2 Add public key to KEYS in release branch"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'$ mkdir -p streampark_svn/release\n$ cd streampark_svn/release\n\n$ svn co https://dist.apache.org/repos/dist/release/incubator/streampark/\n$ cd streampark_svn/release/streampark\n\n# Append the KEY you generated to the file KEYS, and check if it is added correctly\n$ (gpg --list-sigs muchunjin@apache.org && gpg --export --armor muchunjin@apache.org) >> KEYS \n\n$ svn ci -m "add gpg key for muchunjin"\n')),(0,r.kt)("h4",{id:"25-configure-apache-maven-address-and-user-password-settings"},"2.5 Configure apache maven address and user password settings"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Generate master password")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"$ mvn --encrypt-master-password <apache password>\n{EM+4/TYVDXYHRbkwjjAS3mE1RhRJXJUSG8aIO5RSxuHU26rKCjuS2vG+/wMjz9te}\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Create the file ${user.home}/.m2/settings-security.xml and configure the password created in the previous step")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"<settingsSecurity>\n  <master>{EM+4/TYVDXYHRbkwjjAS3mE1RhRJXJUSG8aIO5RSxuHU26rKCjuS2vG+/wMjz9te}</master>\n</settingsSecurity>\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Generate the final encrypted password and add it to the ~/.m2/settings.xml file")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"$ mvn --encrypt-password <apache passphrase>\n{/ZLaH78TWboH5IRqNv9pgU4uamuqm9fCIbw0gRWT01c=}\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"In the maven configuration file ~/.m2/settings.xml, add the following ",(0,r.kt)("inlineCode",{parentName:"p"},"server")," item")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'<settings xmlns="http://maven.apache.org/SETTINGS/1.0.0"\n  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"\n  xsi:schemaLocation="http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd">\n  \n  <localRepository>/path/to/local/repo</localRepository>\n  \n  <servers>\n    <server>\n        <id>apache.snapshots.https</id>\n        \x3c!-- APACHE LDAP UserName --\x3e \n        <username>muchunjin</username>\n        \x3c!-- APACHE LDAP password (Fill in the password you just created with the command `mvn --encrypt-password <apache passphrase>`) --\x3e\n        <password>{/ZLaH78TWboH5IRqNv9pgU4uamuqm9fCIbw0gRWT01c=}</password>\n    </server>\n    <server>\n        <id>apache.releases.https</id>\n        \x3c!-- APACHE LDAP UserName --\x3e \n        <username>muchunjin</username>\n        \x3c!-- APACHE LDAP password (Fill in the password you just created with the command `mvn --encrypt-password <apache passphrase>`) --\x3e\n        <password>{/ZLaH78TWboH5IRqNv9pgU4uamuqm9fCIbw0gRWT01c=}</password>\n    </server>\n  </servers>\n\n  <profiles>\n        <profile>\n          <id>apache-release</id>\n          <properties>\n            <gpg.keyname>05016886</gpg.keyname>\n            \x3c!-- Use an agent: Prevents being asked for the password during the build --\x3e\n            <gpg.useagent>true</gpg.useagent>\n            <gpg.passphrase>passphrase for your gpg key</gpg.passphrase>\n          </properties>\n        </profile>\n  </profiles>\n')),(0,r.kt)("h2",{id:"3-prepare-material-package--release-apache-nexus"},"3. Prepare material package & release Apache Nexus"),(0,r.kt)("h4",{id:"31-based-on-the-dev-branch-create-a-release-release_version-rcx-branch-such-as-release-210-rc1-and-create-a-tag-named-v210-rc1-based-on-the-release-210-rc1-branch-and-set-this-tag-as-pre-release"},"3.1 Based on the dev branch, create a release-${release_version}-rcx branch, such as release-2.1.0-rc1, And create a tag named v2.1.0-rc1 based on the release-2.1.0-rc1 branch, and set this tag as pre-release."),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/19602424/236656362-1d346faa-6582-44eb-9722-8bb2de0eaa92.png",alt:"\u56fe\u7247"})),(0,r.kt)("h4",{id:"32-clone-release-branch-to-local"},"3.2 clone release branch to local"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"git clone -b release-2.1.0-rc1 -c core.autocrlf=false git@github.com:apache/incubator-streampark.git\n")),(0,r.kt)("h4",{id:"33-publish-the-relevant-jars-to-apache-nexus"},"3.3 Publish the relevant JARs to Apache Nexus"),(0,r.kt)("h5",{id:"331-release-scala-211-to-the-apache-nexus-repository"},"3.3.1 Release scala 2.11 to the Apache Nexus repository"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"mvn clean install \\\n-Pscala-2.11,shaded \\\n-DskipTests \\\n-Dcheckstyle.skip=true \\\n-Dmaven.javadoc.skip=true \\\n-pl 'streampark-common,streampark-flink,streampark-shaded' \\\n-pl '!streampark-console/streampark-console-service' \\\n-amd\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"mvn deploy \\\n-Pscala-2.11,apache-release \\\n-DskipTests \\\n-Dmaven.javadoc.skip=true \\\n-DretryFailedDeploymentCount=3\n")),(0,r.kt)("h5",{id:"332-release-scala-212-to-the-apache-nexus-repository"},"3.3.2 Release scala 2.12 to the Apache Nexus repository"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"mvn clean install \\\n-Pscala-2.12,shaded \\\n-DskipTests \\\n-Dcheckstyle.skip=true \\\n-Dmaven.javadoc.skip=true \\\n-pl 'streampark-common,streampark-flink,streampark-shaded' \\\n-pl '!streampark-console/streampark-console-service' \\\n-amd\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"mvn deploy \\\n-Pscala-2.12,apache-release \\\n-DskipTests \\\n-Dmaven.javadoc.skip=true \\\n-DretryFailedDeploymentCount=3\n")),(0,r.kt)("h5",{id:"333-release-shaded-to-the-apache-nexus-repository"},"3.3.3 Release shaded to the Apache Nexus repository"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"mvn clean install \\\n-DskipTests \\\n-Dcheckstyle.skip=true \\\n-Dmaven.javadoc.skip=true\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"mvn deploy \\\n-Papache-release \\\n-DskipTests \\\n-Dmaven.javadoc.skip=true \\\n-DretryFailedDeploymentCount=3\n")),(0,r.kt)("h5",{id:"334-check-for-successful-publishing-to-the-apache-nexus-repository"},"3.3.4 Check for successful publishing to the Apache Nexus repository"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Visit ",(0,r.kt)("a",{parentName:"p",href:"https://repository.apache.org/"},"https://repository.apache.org/")," and log in, if there are scala 2.11, scala 2.12, shaded packages, it means success.")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/19602424/236657233-08d142eb-5f81-427b-a04d-9ab3172199c1.png",alt:"\u56fe\u7247"})),(0,r.kt)("h4",{id:"34-compile-the-binary-package"},"3.4 Compile the binary package"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Scala 2.11 compilation and packaging")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"mvn -Pscala-2.11,shaded,webapp,dist -DskipTests clean install\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Scala 2.12 compilation and packaging")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"mvn -Pscala-2.12,shaded,webapp,dist -DskipTests clean install\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Package the project source code")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'git archive \\\n--format=tar.gz \\\n--output="dist/apache-streampark-2.1.0-incubating-src.tar.gz" \\\n--prefix=apache-streampark-2.1.0-incubating-src/ \\\nrelease-2.1.0-rc1\n')),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"The following 3 files will be generated")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"apache-streampark-2.1.0-incubating-src.tar.gz\napache-streampark_2.11-2.1.0-incubating-bin.tar.gz\napache-streampark_2.12-2.1.0-incubating-bin.tar.gz\n")),(0,r.kt)("h4",{id:"34-sign-binary-and-source-packages"},"3.4 Sign binary and source packages"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"cd dist\n\n# sign\nfor i in *.tar.gz; do echo $i; gpg --armor --output $i.asc --detach-sig $i ; done\n\n# SHA512\nfor i in *.tar.gz; do echo $i; sha512sum $i > $i.sha512 ; done\n")),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"The final file list is as follows")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"apache-streampark-2.1.0-incubating-src.tar.gz\napache-streampark-2.1.0-incubating-src.tar.gz.asc\napache-streampark-2.1.0-incubating-src.tar.gz.sha512\napache-streampark_2.11-2.1.0-incubating-bin.tar.gz\napache-streampark_2.11-2.1.0-incubating-bin.tar.gz.asc\napache-streampark_2.11-2.1.0-incubating-bin.tar.gz.sha512\napache-streampark_2.12-2.1.0-incubating-bin.tar.gz\napache-streampark_2.12-2.1.0-incubating-bin.tar.gz.asc\napache-streampark_2.12-2.1.0-incubating-bin.tar.gz.sha512\n")),(0,r.kt)("h4",{id:"35-verify-signature"},"3.5 Verify signature"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'$ cd dist\n\n# Verify signature\n$ for i in *.tar.gz; do echo $i; gpg --verify $i.asc $i ; done\n\napache-streampark-2.1.0-incubating-src.tar.gz\ngpg: Signature made Tue May  2 12:16:35 2023 CST\ngpg:                using RSA key 85778A4CE4DD04B7E07813ABACFB69E705016886\ngpg: Good signature from "muchunjin (for apache StreamPark release create at 20230501) <muchunjin@apache.org>" [ultimate]\napache-streampark_2.11-2.1.0-incubating-bin.tar.gz\ngpg: Signature made Tue May  2 12:16:36 2023 CST\ngpg:                using RSA key 85778A4CE4DD04B7E07813ABACFB69E705016886\ngpg: Good signature from "muchunjin (for apache StreamPark release create at 20230501) <muchunjin@apache.org>" [ultimate]\napache-streampark_2.12-2.1.0-incubating-bin.tar.gz\ngpg: Signature made Tue May  2 12:16:37 2023 CST\ngpg:                using RSA key 85778A4CE4DD04B7E07813ABACFB69E705016886\ngpg: BAD signature from "muchunjin (for apache StreamPark release create at 20230501) <muchunjin@apache.org>" [ultimate]\n\n# Verify SHA512\n$ for i in *.tar.gz; do echo $i; sha512sum --check $i.sha512; done\n\napache-streampark-2.1.0-incubating-src.tar.gz\napache-streampark-2.1.0-incubating-src.tar.gz: OK\napache-streampark_2.11-2.1.0-incubating-bin.tar.gz\napache-streampark_2.11-2.1.0-incubating-bin.tar.gz: OK\napache-streampark_2.12-2.1.0-incubating-bin.tar.gz\napache-streampark_2.12-2.1.0-incubating-bin.tar.gz: OK\n')),(0,r.kt)("h4",{id:"36-publish-the-dev-directory-of-the-apache-svn-warehouse-of-the-material-package"},"3.6 Publish the dev directory of the Apache SVN warehouse of the material package"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"# Check out the dev directory of the Apache SVN warehouse to the streampark_svn_dev directory under dist in the root directory of the Apache StreamPark project\nsvn co https://dist.apache.org/repos/dist/dev/incubator/streampark dist/streampark_svn_dev\n\nsvn co --depth empty https://dist.apache.org/repos/dist/dev/incubator/streampark\n")),(0,r.kt)("p",null,"Create a version number directory and name it in the form of ${release_version}-${RC_version}. RC_version starts from 1, that is, the candidate version starts from RC1. During the release process, there is a problem that causes the vote to fail. If it needs to be corrected, it needs to iterate the RC version , the RC version number needs to be +1. For example: Vote for version 2.1.0-RC1. If the vote passes without any problems, the RC1 version material will be released as the final version material. If there is a problem (when the streampark/incubator community votes, the voters will strictly check various release requirements and compliance issues) and need to be corrected, then re-initiate the vote after the correction, and the candidate version for the next vote is 2.1.0- RC2."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},"mkdir -p dist/streampark_svn_dev/2.1.0-RC1\ncp -f dist/* dist/streampark_svn_dev/2.1.0-RC1\n")),(0,r.kt)("p",null,"Commit to SVN"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'cd dist/streampark_svn_dev/\n\n# 1.check svn status\nsvn status\n\n# 2. add to svn\nsvn add 2.0.0-RC1\n\nsvn status\n\n# 3. Submit to svn remote server\nsvn commit -m "release for StreamPark 2.1.0"\n')),(0,r.kt)("h4",{id:"37-check-apache-svn-commit-results"},"3.7 Check Apache SVN Commit Results"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Visit the address ",(0,r.kt)("a",{parentName:"p",href:"https://dist.apache.org/repos/dist/dev/incubator/streampark/2.1.0-RC1/"},"https://dist.apache.org/repos/dist/dev/incubator/streampark/2.1.0-RC1/")," in the browser")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://github.com/apache/incubator-streampark/assets/19602424/e4763537-af9f-4f2a-967d-912e6670b360",alt:"\u56fe\u7247"})),(0,r.kt)("h2",{id:"3-enter-the-community-voting-stage"},"3. Enter the community voting stage"),(0,r.kt)("h4",{id:"31-send-a-community-vote-email"},"3.1 Send a Community Vote Email"),(0,r.kt)("p",null,"Send a voting email in the community requires at least three ",(0,r.kt)("inlineCode",{parentName:"p"},"+1")," and no ",(0,r.kt)("inlineCode",{parentName:"p"},"-1"),"."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("inlineCode",{parentName:"p"},"Send to"),": ",(0,r.kt)("a",{parentName:"p",href:"mailto:dev@streampark.apache.org"},"dev@streampark.apache.org")," ",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"Title"),": ","[VOTE]"," Release Apache StreamPark (Incubating) 2.1.0 rc1 ",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"Body"),": ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Hello StreamPark Community:\n\nThis is a call for vote to release Apache StreamPark(Incubating) version release-2.1.0-RC1.\n\nApache Streamark,Make stream processing easier! easy-to-use streaming application development framework and operation platform.\n\nRelease notes:\nhttps://streampark.apache.org/download/release-note/2.1.0/\n\nThe release candidates:\nhttps://dist.apache.org/repos/dist/dev/incubator/streampark/2.1.0-RC1/\n\nMaven artifacts are available in a staging repository at:\nhttps://repository.apache.org/content/repositories/orgapachestreampark-1012/\n\nGit tag for the release:\nhttps://github.com/apache/incubator-streampark/releases/tag/v2.1.0-rc1\n\nThe artifacts signed with PGP key [05016886], corresponding to [muchunjin@apache.org], that can be found in keys file:\nhttps://downloads.apache.org/incubator/streampark/KEYS\n\nThe vote will be open for at least 72 hours or until the necessary number of votes are reached.\n\nPlease vote accordingly:\n\n[ ] +1 approve\n[ ] +0 no opinion\n[ ] -1 disapprove with the reason\n\n*Valid check is a requirement for a vote. *Checklist for reference:\n\n[ ] Download StreamPark are valid.\n[ ] Checksums and PGP signatures are valid.\n[ ] Source code distributions have correct names matching the current\nrelease.\n[ ] LICENSE and NOTICE files are correct for each StreamPark repo.\n[ ] All files have license headers if necessary.\n[ ] No compiled archives bundled in source archive.\n[ ] Can compile from source.\n\nMore detail checklist please refer:\nhttps://cwiki.apache.org/confluence/display/INCUBATOR/Incubator+Release+Checklist\n\nSteps to validate the release\uff0cPlease refer to:\nhttps://streampark.apache.org/community/release/how-to-verify\n\nHow to Build:\n\n1.cd incubator-streampark\n2.sh ./build.sh\n\nThanks!\n")),(0,r.kt)("p",null,"After 72 hours, the voting results will be counted, and the voting result email will be sent, as follows."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("inlineCode",{parentName:"p"},"Send to"),": ",(0,r.kt)("a",{parentName:"p",href:"mailto:dev@streampark.apache.org"},"dev@streampark.apache.org")," ",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"Title"),": ","[RESULT][VOTE]"," Release Apache StreamPark (Incubating) 2.1.0-rc1 ",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"Body"),":")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'Dear StreamPark community,\n\nThanks for your review and vote for "Release Apache StreamPark (Incubating) 2.1.0-rc1"\nI\'m happy to announce the vote has passed:\n\n\n4 binding +1, from:\n\n- Zhuoyu Chen\n- Huajie Wang\n- Linying Yu\n- Shaokang Lv\n\n1 non-binding +1, from:\n\n- Roc Marshal\n\n\nno 0 or -1 votes.\n\nVote thread:\nhttps://lists.apache.org/thread/t01b2lbtqzyt7j4dsbdp5qjc3gngjsdq\n\n\nThank you to everyone who helped us to verify and vote for this release. We will move to the ASF Incubator voting shortly.\n\n\nBest,\nChunJin Mu\n')),(0,r.kt)("p",null,"One item of the email content is ",(0,r.kt)("inlineCode",{parentName:"p"},"Vote thread"),", and the link is obtained as follows: ",(0,r.kt)("br",null),"\nVisit this address ",(0,r.kt)("a",{parentName:"p",href:"https://lists.apache.org/list.html?dev@streampark.apache.org"},"https://lists.apache.org/list.html?dev@streampark.apache.org"),", and find the mail title and click to display the voting content\n",(0,r.kt)("img",{parentName:"p",src:"https://github.com/apache/incubator-streampark/assets/19602424/5755ed06-529f-4739-96a8-1ac13bbb21ea",alt:"\u56fe\u7247"})),(0,r.kt)("p",null,"Right-click the title and click Copy Link Address to get the link\n",(0,r.kt)("img",{parentName:"p",src:"https://github.com/apache/incubator-streampark/assets/19602424/1616da5b-7891-45cc-b956-a0ba5e7ce874",alt:"\u56fe\u7247"})),(0,r.kt)("h4",{id:"32-send-incubator-community-voting-mail"},"3.2 Send Incubator Community voting mail"),(0,r.kt)("p",null,"Send a voting email in the incubator community requires at least three ",(0,r.kt)("inlineCode",{parentName:"p"},"+1")," and no ",(0,r.kt)("inlineCode",{parentName:"p"},"-1"),"."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("inlineCode",{parentName:"p"},"Send to"),": ",(0,r.kt)("a",{parentName:"p",href:"mailto:general@incubator.apache.org"},"general@incubator.apache.org")," ",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"cc"),": ",(0,r.kt)("a",{parentName:"p",href:"mailto:dev@streampark.apache.org"},"dev@streampark.apache.org"),"\u3001",(0,r.kt)("a",{parentName:"p",href:"mailto:tison@apache.org"},"tison@apache.org"),"\u3001",(0,r.kt)("a",{parentName:"p",href:"mailto:willem.jiang@gmail.com"},"willem.jiang@gmail.com")," ",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"Title"),": ","[VOTE]"," Release Apache StreamPark(Incubating) 2.1.0-rc1 ",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"Body"),":")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Hello Incubator Community:\n\nThis is a call for a vote to release Apache StreamPark(Incubating) version 2.1.0-RC1.\nThe Apache StreamPark community has voted on and approved a proposal to release Apache StreamPark(Incubating) version 2.1.0-RC1.\nWe now kindly request the Incubator PMC members review and vote on this incubator release.\nApache StreamPark, Make stream processing easier! easy-to-use streaming application development framework and operation platform.\n\nStreamPark community vote thread:\nhttps://lists.apache.org/thread/t01b2lbtqzyt7j4dsbdp5qjc3gngjsdq\n\nVote result thread:\nhttps://lists.apache.org/thread/t5z58mvrs1drgzfyc48c9lhmd8skswn7\n\nThe release candidate:\nhttps://dist.apache.org/repos/dist/dev/incubator/streampark/2.1.0-RC1/\n\nGit tag for the release:\nhttps://github.com/apache/incubator-streampark/releases/tag/v2.1.0-rc1\n\nMaven artifacts are available in a staging repository at:\nhttps://repository.apache.org/content/repositories/orgapachestreampark-1012/\n\nThe artifacts signed with PGP key [05016886], corresponding to [muchunjin@apache.org], that can be found in keys file:\nhttps://downloads.apache.org/incubator/streampark/KEYS\n\nThe vote will be open for at least 72 hours or until the necessary number of votes are reached.\n\nPlease vote accordingly:\n[ ] +1 approve\n[ ] +0 no opinion\n[ ] -1 disapprove with the reason\n\nMore detailed checklist please refer:\n\u2022 https://cwiki.apache.org/confluence/display/INCUBATOR/Incubator+Release+Checklist\n\nSteps to validate the release\uff0c Please refer to:\n\u2022 https://www.apache.org/info/verification.html\n\u2022 https://streampark.apache.org/community/release/how-to-verify\n\n\nHow to Build:\n\n1) clone source code:\n> git clone -b v2.1.0-rc1 git@github.com:apache/incubator-streampark.git\n\n2) build project:\n> cd incubator-streampark && sh ./build.sh\n\n\nThanks,\n\nOn behalf of Apache StreamPark(Incubating) community\n\n\nBest,\nChunJin Mu\n")),(0,r.kt)("p",null,"If there is no -1 after 72 hours, reply to the email as follows"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("inlineCode",{parentName:"p"},"Send to"),": ",(0,r.kt)("a",{parentName:"p",href:"mailto:general@incubator.apache.org"},"general@incubator.apache.org")," ",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"cc"),": ",(0,r.kt)("a",{parentName:"p",href:"mailto:dev@streampark.apache.org"},"dev@streampark.apache.org")," ",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"Body"),":")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Thanks everyone for review and vote, 72H passed. I'll announce the vote result soon.\n\nBest,\nChunjin Mu\n")),(0,r.kt)("p",null,"Then the voting results will be counted, and the voting result email will be sent, as follows."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("inlineCode",{parentName:"p"},"Send to"),": ",(0,r.kt)("a",{parentName:"p",href:"mailto:general@incubator.apache.org"},"general@incubator.apache.org")," ",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"cc"),": ",(0,r.kt)("a",{parentName:"p",href:"mailto:dev@streampark.apache.org"},"dev@streampark.apache.org"),"\u3001",(0,r.kt)("a",{parentName:"p",href:"mailto:tison@apache.org"},"tison@apache.org"),"\u3001",(0,r.kt)("a",{parentName:"p",href:"mailto:willem.jiang@gmail.com"},"willem.jiang@gmail.com")," ",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"Title"),": ","[RESULT][VOTE]"," Release Apache StreamPark(Incubating) 2.1.0-rc1 ",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"Body"),":")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'Hi all,\n\nThanks for your review and vote for "Release Apache StreamPark (Incubating) 2.1.0-rc1"\nI\'m happy to announce the vote has passed:\n\n3 binding votes, no +0 or -1 votes.\nThanks for reviewing and voting.\n\n+3 (binding) +1, from:\n- tison\n- Gang Li\n- Willem Jiang\n\nno 0 or -1 votes.\n\nVote thread:\nhttps://lists.apache.org/thread/k3cvcbzxqs6qy62d1o6r9pqpykcgvvhm\n\n\nThanks everyone for your feedback and help with StreamPark apache release. The StreamPark team will take the steps to complete this release and will announce it soon.\n\nBest,\nChunJin Mu\n')),(0,r.kt)("p",null,"One item of the email content is ",(0,r.kt)("inlineCode",{parentName:"p"},"Vote thread"),", and the link is obtained as follows: ",(0,r.kt)("br",null),"\nVisit this address ",(0,r.kt)("a",{parentName:"p",href:"https://lists.apache.org/list.html?general@incubator.apache.org"},"https://lists.apache.org/list.html?general@incubator.apache.org"),", and find the mail title and click to display the voting content\n",(0,r.kt)("img",{parentName:"p",src:"https://github.com/apache/incubator-streampark/assets/19602424/aea68925-7911-4413-8b2d-aea12685337f",alt:"\u56fe\u7247"}),"\nThen right-click the title and click Copy Link Address to get the link."),(0,r.kt)("p",null,"Wait a day to see if the tutor has any other comments, if not, send the following announcement email"),(0,r.kt)("h2",{id:"4-complete-the-final-publishing-steps"},"4. Complete the final publishing steps"),(0,r.kt)("h4",{id:"41-migrating-source-and-binary-packages"},"4.1 Migrating source and binary packages"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-shell"},'svn mv https://dist.apache.org/repos/dist/dev/incubator/streampark/2.1.0-RC1 https://dist.apache.org/repos/dist/release/incubator/streampark/2.1.0  -m "transfer packages for 2.1.0-RC1"\n')),(0,r.kt)("h4",{id:"42-publish-releases-in-the-apache-staging-repository"},"4.2 Publish releases in the Apache Staging repository"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Log in to ",(0,r.kt)("a",{parentName:"li",href:"http://repository.apache.org"},"http://repository.apache.org")," , log in with your Apache account"),(0,r.kt)("li",{parentName:"ul"},"Click Staging repositories on the left"),(0,r.kt)("li",{parentName:"ul"},"Select your most recently uploaded warehouse, the warehouse specified in the voting email"),(0,r.kt)("li",{parentName:"ul"},"Click the Release button above, this process will perform a series of checks",(0,r.kt)("blockquote",{parentName:"li"},(0,r.kt)("p",{parentName:"blockquote"},"It usually takes 24 hours for the warehouse to synchronize to other data sources")))),(0,r.kt)("h4",{id:"43-add-the-new-version-download-address-to-the-official-website"},"4.3 Add the new version download address to the official website"),(0,r.kt)("p",null,"Add the following to the src/pages/download/data.json file on the official website"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'{\n    "version": "2.1.0",\n    "date": "2023-05-11"\n}\n')),(0,r.kt)("p",null,"The final file content is as follows"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'[\n    {\n    "version": "2.0.0",\n    "date": "2023-02-21"\n    },\n    {\n    "version": "2.1.0",\n    "date": "2023-05-11"\n    }\n]\n')),(0,r.kt)("p",null,"Open the official website address ",(0,r.kt)("a",{parentName:"p",href:"https://streampark.apache.org/download/"},"https://streampark.apache.org/download/")," to see if there is a new version of the download"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"It should be noted that the download link may take effect after an hour, so please pay attention to it.")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://github.com/apache/incubator-streampark/assets/19602424/e7900fb2-7bfc-4fa1-bd40-9806e6a822ef",alt:"\u56fe\u7247"})),(0,r.kt)("h4",{id:"44-generate-a-release-on-github"},"4.4 Generate a release on github"),(0,r.kt)("p",null,"Create a tag named v2.1.0 based on the release-2.1.0-rc1 branch, and set this tag to latest release."),(0,r.kt)("p",null,"Then enter Release Title and Describe"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Release Title: ")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"v2.1.0-incubating\n")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Describe:")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Release-2.1.0-incubating\nrelease note: https://streampark.apache.org/download/release-note/2.1.0\n")),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://github.com/apache/incubator-streampark/assets/19602424/84723ff5-a295-471d-8265-1b8ef867c3d1",alt:"\u56fe\u7247"})),(0,r.kt)("p",null,"Then click the ",(0,r.kt)("inlineCode",{parentName:"p"},"Publish release")," button."),(0,r.kt)("p",null,"The rename the release-2.1.0-rc1 branch to release-2.1.0."),(0,r.kt)("h4",{id:"45-send-new-version-announcement-email"},"4.5 Send new version announcement email"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},(0,r.kt)("inlineCode",{parentName:"p"},"Send to"),": ",(0,r.kt)("a",{parentName:"p",href:"mailto:general@incubator.apache.org"},"general@incubator.apache.org")," ",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"cc"),": ",(0,r.kt)("a",{parentName:"p",href:"mailto:dev@streampark.apache.org"},"dev@streampark.apache.org")," ",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"Title"),": ","[ANNOUNCE]"," Release Apache StreamPark (Incubating) 2.1.0 ",(0,r.kt)("br",null),"\n",(0,r.kt)("inlineCode",{parentName:"p"},"Body"),":")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"Hi all,\n\nWe are glad to announce the release of Apache StreamPark(incubating) 2.1.0.\nOnce again I would like to express my thanks to your help.\n\nStreamPark(https://streampark.apache.org/) Make stream processing easier! easy-to-use streaming application development framework and operation platform\n\nDownload Links: https://streampark.apache.org/download/\nRelease Notes: https://streampark.apache.org/download/release-note/2.1.0\n\nStreamPark Resources:\n- Issue: https://github.com/apache/incubator-streampark/issues\n- Mailing list: dev@streampark.apache.org\n\n- Apache StreamPark Team\n\nBest,\nChunJin Mu\n")),(0,r.kt)("p",null,"This version release is over."))}h.isMDXComponent=!0}}]);